{
  "swagger": "2.0",
  "info": {
    "title": "kwil/account/v0/service.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "AccountService"
    },
    {
      "name": "ConfigService"
    },
    {
      "name": "PricingService"
    },
    {
      "name": "TxService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/v0/address": {
      "get": {
        "operationId": "TxService_GetAddress",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0GetAddressResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "TxService"
        ]
      }
    },
    "/api/v0/broadcast": {
      "post": {
        "operationId": "TxService_Broadcast",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0BroadcastResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v0BroadcastRequest"
            }
          }
        ],
        "tags": [
          "TxService"
        ]
      }
    },
    "/api/v0/config": {
      "get": {
        "operationId": "ConfigService_GetAll",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0GetCfgResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "ConfigService"
        ]
      }
    },
    "/api/v0/config/funding": {
      "get": {
        "operationId": "ConfigService_GetFunding",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0GetFundingCfgResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "ConfigService"
        ]
      }
    },
    "/api/v0/ping": {
      "get": {
        "operationId": "TxService_Ping",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0PongResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "message",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "TxService"
        ]
      }
    },
    "/api/v0/pricing/estimate": {
      "post": {
        "operationId": "PricingService_EstimateCost",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0EstimateResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v0EstimateRequest"
            }
          }
        ],
        "tags": [
          "PricingService"
        ]
      }
    },
    "/api/v0/schema/validate": {
      "post": {
        "operationId": "TxService_ValidateSchema",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0ValidateSchemaResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v0ValidateSchemaRequest"
            }
          }
        ],
        "tags": [
          "TxService"
        ]
      }
    },
    "/api/v0/{address}/account": {
      "get": {
        "operationId": "AccountService_GetAccount",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0GetAccountResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "address",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "AccountService"
        ]
      }
    },
    "/api/v0/{id}/executables": {
      "get": {
        "operationId": "TxService_GetExecutablesById",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0GetExecutablesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TxService"
        ]
      }
    },
    "/api/v0/{id}/schema": {
      "get": {
        "operationId": "TxService_GetSchemaById",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0GetSchemaResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TxService"
        ]
      }
    },
    "/api/v0/{owner}/databases": {
      "get": {
        "operationId": "TxService_ListDatabases",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0ListDatabasesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "owner",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TxService"
        ]
      }
    },
    "/api/v0/{owner}/{name}/executables": {
      "get": {
        "operationId": "TxService_GetExecutables",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0GetExecutablesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "owner",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "name",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TxService"
        ]
      }
    },
    "/api/v0/{owner}/{name}/schema": {
      "get": {
        "operationId": "TxService_GetSchema",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v0GetSchemaResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "owner",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "name",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TxService"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v0Account": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        },
        "balance": {
          "type": "string"
        },
        "spent": {
          "type": "string"
        },
        "nonce": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "v0Arg": {
      "type": "object",
      "properties": {
        "position": {
          "type": "integer",
          "format": "int64"
        },
        "static": {
          "type": "boolean"
        },
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/v0DataType"
        },
        "modifier": {
          "$ref": "#/definitions/v0ModifierType"
        }
      }
    },
    "v0Attribute": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/v0AttributeType"
        },
        "value": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "v0AttributeType": {
      "type": "string",
      "enum": [
        "INVALID_ATTRIBUTE",
        "PRIMARY_KEY",
        "UNIQUE",
        "NOT_NULL",
        "DEFAULT",
        "MIN",
        "MAX",
        "MIN_LENGTH",
        "MAX_LENGTH"
      ],
      "default": "INVALID_ATTRIBUTE"
    },
    "v0BroadcastRequest": {
      "type": "object",
      "properties": {
        "tx": {
          "$ref": "#/definitions/v0Tx"
        }
      }
    },
    "v0BroadcastResponse": {
      "type": "object",
      "properties": {
        "hash": {
          "type": "string",
          "format": "byte"
        },
        "fee": {
          "type": "string"
        }
      }
    },
    "v0Column": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/v0DataType"
        },
        "attributes": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0Attribute"
          }
        }
      }
    },
    "v0ComparisonOperator": {
      "type": "string",
      "enum": [
        "OPERATOR_INVALID",
        "OPERATOR_EQUAL",
        "OPERATOR_NOT_EQUAL",
        "OPERATOR_GREATER_THAN",
        "OPERATOR_GREATER_THAN_OR_EQUAL",
        "OPERATOR_LESS_THAN",
        "OPERATOR_LESS_THAN_OR_EQUAL"
      ],
      "default": "OPERATOR_INVALID"
    },
    "v0DataType": {
      "type": "string",
      "enum": [
        "INVALID_TYPE",
        "NULL",
        "STRING",
        "INT32",
        "INT64",
        "BOOLEAN"
      ],
      "default": "INVALID_TYPE"
    },
    "v0Database": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "owner": {
          "type": "string"
        },
        "tables": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0Table"
          }
        },
        "sqlQueries": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0SQLQuery"
          }
        },
        "roles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0Role"
          }
        },
        "indexes": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0Index"
          }
        }
      }
    },
    "v0EstimateRequest": {
      "type": "object",
      "properties": {
        "tx": {
          "$ref": "#/definitions/v0Tx"
        }
      }
    },
    "v0EstimateResponse": {
      "type": "object",
      "properties": {
        "cost": {
          "type": "string"
        }
      }
    },
    "v0Executable": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "statement": {
          "type": "string"
        },
        "userInputs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0UserInput"
          }
        },
        "args": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0Arg"
          }
        }
      }
    },
    "v0GetAccountResponse": {
      "type": "object",
      "properties": {
        "account": {
          "$ref": "#/definitions/v0Account"
        }
      }
    },
    "v0GetAddressResponse": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        }
      }
    },
    "v0GetCfgResponse": {
      "type": "object",
      "properties": {
        "funding": {
          "$ref": "#/definitions/v0GetFundingCfgResponse"
        }
      }
    },
    "v0GetExecutablesResponse": {
      "type": "object",
      "properties": {
        "executables": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0Executable"
          }
        }
      }
    },
    "v0GetFundingCfgResponse": {
      "type": "object",
      "properties": {
        "chainCode": {
          "type": "string",
          "format": "int64"
        },
        "validatorAccount": {
          "type": "string"
        },
        "poolAddress": {
          "type": "string"
        },
        "tokenAddress": {
          "type": "string"
        },
        "tokenName": {
          "type": "string"
        }
      }
    },
    "v0GetSchemaResponse": {
      "type": "object",
      "properties": {
        "database": {
          "$ref": "#/definitions/v0Database"
        }
      }
    },
    "v0Index": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "table": {
          "type": "string"
        },
        "columns": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "using": {
          "$ref": "#/definitions/v0IndexType"
        }
      }
    },
    "v0IndexType": {
      "type": "string",
      "enum": [
        "INVALID_INDEX",
        "BTREE"
      ],
      "default": "INVALID_INDEX"
    },
    "v0ListDatabasesResponse": {
      "type": "object",
      "properties": {
        "databases": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v0ModifierType": {
      "type": "string",
      "enum": [
        "NO_MODIFIER",
        "CALLER"
      ],
      "default": "NO_MODIFIER"
    },
    "v0Parameter": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "column": {
          "type": "string"
        },
        "static": {
          "type": "boolean"
        },
        "value": {
          "type": "string"
        },
        "modifier": {
          "$ref": "#/definitions/v0ModifierType"
        }
      }
    },
    "v0PayloadType": {
      "type": "string",
      "enum": [
        "INVALID_PAYLOAD_TYPE",
        "DEPLOY_DATABASE",
        "MODIFY_DATABASE",
        "DELETE_DATABASE",
        "EXECUTE_QUERY",
        "WITHDRAW"
      ],
      "default": "INVALID_PAYLOAD_TYPE"
    },
    "v0PongResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "v0QueryType": {
      "type": "string",
      "enum": [
        "QUERY_INVALID",
        "QUERY_INSERT",
        "QUERY_UPDATE",
        "QUERY_DELETE"
      ],
      "default": "QUERY_INVALID"
    },
    "v0Role": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "default": {
          "type": "boolean"
        },
        "permissions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v0SQLQuery": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/v0QueryType"
        },
        "table": {
          "type": "string"
        },
        "parameters": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0Parameter"
          }
        },
        "where": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0WhereClause"
          }
        }
      }
    },
    "v0Signature": {
      "type": "object",
      "properties": {
        "signatureBytes": {
          "type": "string",
          "format": "byte"
        },
        "signatureType": {
          "$ref": "#/definitions/v0SignatureType"
        }
      }
    },
    "v0SignatureType": {
      "type": "string",
      "enum": [
        "INVALID_SINATURE_TYPE",
        "PK_SECP256K1_UNCOMPRESSED",
        "ACCOUNT_SECP256K1_UNCOMPRESSED",
        "END_SIGNATURE_TYPE"
      ],
      "default": "INVALID_SINATURE_TYPE"
    },
    "v0Table": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "columns": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v0Column"
          }
        }
      }
    },
    "v0Tx": {
      "type": "object",
      "properties": {
        "hash": {
          "type": "string",
          "format": "byte"
        },
        "payloadType": {
          "$ref": "#/definitions/v0PayloadType"
        },
        "payload": {
          "type": "string",
          "format": "byte"
        },
        "nonce": {
          "type": "string",
          "format": "int64"
        },
        "signature": {
          "$ref": "#/definitions/v0Signature"
        },
        "fee": {
          "type": "string"
        },
        "sender": {
          "type": "string"
        }
      }
    },
    "v0UserInput": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "v0ValidateSchemaRequest": {
      "type": "object",
      "properties": {
        "schema": {
          "$ref": "#/definitions/v0Database"
        }
      }
    },
    "v0ValidateSchemaResponse": {
      "type": "object",
      "properties": {
        "valid": {
          "type": "boolean"
        },
        "error": {
          "type": "string"
        }
      }
    },
    "v0WhereClause": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "column": {
          "type": "string"
        },
        "static": {
          "type": "boolean"
        },
        "value": {
          "type": "string"
        },
        "modifier": {
          "$ref": "#/definitions/v0ModifierType"
        },
        "operator": {
          "$ref": "#/definitions/v0ComparisonOperator"
        }
      }
    }
  }
}
