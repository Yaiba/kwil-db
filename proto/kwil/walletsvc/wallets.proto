syntax = "proto3";
package apisvc;
option go_package = "kwil/x/proto/apipb";

import "kwil/apisvc/crud.proto";
import "kwil/apisvc/tx.proto";

message GetBalanceRequest {
    string wallet = 1;
}
message GetBalanceResponse {
    string balance = 1;
    string spent = 2;
}
  
message WithdrawalRequest {
    Tx tx = 1;
}
  
message WithdrawalResponse {
    string txid = 1;
    string amount = 2;
    string fee = 3;
    string correlation_id = 4;
    int64 expiration = 5;
}

message GetWithdrawalsRequest {
    string wallet = 1;
}

message GetWithdrawalsResponse {
    repeated Withdrawal withdrawals = 1;
}

message Withdrawal {
    string correlation_id = 1;
    string amount = 2;
    string fee = 3;
    int64 expiration = 4;
    string tx = 5;
    string wallet = 6;
}

message EstimateCostRequest {
    string owner = 1;
    string database = 2;
    string query = 3;
    repeated CRUDInput inputs = 4;
}

message EstimateCostResponse {
    string fee = 1;
}